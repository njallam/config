---
- include_vars: gpgkeys.yml
- name: Import GPG keys
  rpm_key:
    key: "{{item}}"
  with_items:
    - "{{atom_gpgkey}}"
    - "{{microsoft_gpgkey}}"
    - "{{google_gpgkey}}"
# - name: Add RPM Fusion repositories
#   dnf:
#     name: "{{item}}"
#   with_items:
#     - https://download1.rpmfusion.org/free/fedora/rpmfusion-free-release-{{ansible_distribution_version}}.noarch.rpm
#     - https://download1.rpmfusion.org/nonfree/fedora/rpmfusion-nonfree-release-{{ansible_distribution_version}}.noarch.rpm
#   become: true
- name: Add Atom repository
  yum_repository:
    name: atom
    description: Atom Editor
    baseurl: https://packagecloud.io/AtomEditor/atom/el/7/$basearch
    repo_gpgcheck: yes
    gpgkey: "{{atom_gpgkey}}"
  become: true
- name: Add Google Chrome repository
  yum_repository:
    name: google-chrome
    description: Google Chrome
    baseurl: https://dl.google.com/linux/chrome/rpm/stable/$basearch
    gpgcheck: yes
    gpgkey: "{{google_gpgkey}}"
  become: true
- name: Add VS Code repository
  yum_repository:
    name: code
    description: Visual Studio Code
    baseurl: https://packages.microsoft.com/yumrepos/vscode
    gpgcheck: yes
    gpgkey: "{{microsoft_gpgkey}}"
  become: true
# - name: Add Nvidia driver repository
#   get_url:
#     url: https://negativo17.org/repos/fedora-nvidia.repo
#     dest: /etc/yum.repos.d/fedora-nvidia.repo
